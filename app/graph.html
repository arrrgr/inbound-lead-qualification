<html>
    <head>
        <title>Graph</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no" />
        <style>.css-18f0176 { position: relative; cursor: move; overflow: hidden; }.css-12q0bj3 { top: 0px; left: 0px; right: 0px; bottom: 0px; position: absolute; pointer-events: none; transform-origin: 0px 0px; width: 100%; height: 100%; overflow: visible; }* { --profiler-verified-color:#2ab27e; --profiler-unverified-color:#4790ff; --profiler-zero-color:#8e3e3e; --graph-font:var(--vscode-font-family); --graph-bg:#1e1e1e; --graph-grid:rgba(255,255,255,0.05); --graph-diagnostic-warning:none; --graph-diagnostic-error:none; --graph-node-icon:#ffffff; --graph-node-bg:#373737; --graph-node-text:#fff; --graph-node-data-bg:rgba(255,255,255,0.1); --graph-node-data-text:#ffffff; --graph-node-border:#373737; --graph-node-border-active:#4790ff; --graph-node-border-hover:rgba(0,0,0,0.2); --graph-transition-bg:#373737; --graph-transition-text:#eeffff; --graph-transition-border:#373737; --graph-transition-border-active:#4790ff; --graph-transition-border-hover:rgba(255,255,255,0.06); --graph-selection-bg:rgba(0,192,255,0.2); --graph-selection-border:#4790ff; --graph-group-selected:#4790ff; --graph-group-border:rgb(119,119,119); --graph-group-label:#fff; --graph-grid-column:rgba(255,255,255,0.1); --graph-context-menu-bg:#252526; --graph-context-menu-border:rgba(255,255,255,0.1); --graph-context-menu-hover:rgba(255,255,255,0.1); --graph-context-menu-text:#fff; --graph-tooltip-bg:#252526; --graph-tooltip-border:rgba(255,255,255,0.1); --graph-tooltip-text:#fff; --graph-link-color:gray; --graph-link-selected:#4790ff; --graph-socket:"#fff"; }body { overflow: hidden; padding: 0px; margin: -16px 0px 0px; background: var(--graph-bg); }.graph-editor { width: 100vw; height: 100vh; cursor: default !important; }.bcxYtT { user-select: none; pointer-events: auto; position: absolute; background-color: var(--graph-context-menu-bg); border: 1px solid var(--graph-context-menu-border); width: 240px; padding: 4px 0px; }.gfcIZQ { padding: 7px 12px; display: flex; -webkit-box-pack: justify; justify-content: space-between; cursor: pointer; }.gfcIZQ:hover { background-color: var(--graph-context-menu-hover); }.cMnhPQ { font-size: 14px; line-height: 1.43; color: var(--graph-context-menu-text); }.dWzdfH { font-size: 14px; line-height: 1.43; color: var(--graph-context-menu-text); opacity: 0.4; }html * {
  --graph-font: Montserrat, Roboto, Arial, Verdana;
  --graph-bg: #1e1e1e;
  --graph-grid: rgba(255, 255, 255, 0.05);

  --graph-diagnostic-warning: gray;
  --graph-diagnostic-error: gray;

  --graph-node-icon: #ffffff;
  --graph-node-bg: #373737;
  --graph-node-text: #fff;
  --graph-node-data-bg: rgba(255, 255, 255, 0.1);
  --graph-node-data-text: #ffffff;
  --graph-node-border: #373737;
  --graph-node-border-active: #4790ff;
  --graph-node-border-hover: rgba(0, 0, 0, 0.2);

  --graph-transition-bg: #373737;
  --graph-transition-text: #eeffff;
  --graph-transition-border: #373737;
  --graph-transition-border-active: #4790ff;
  --graph-transition-border-hover: rgba(255, 255, 255, 0.06);

  --graph-selection-bg: rgba(0, 192, 255, 0.2);
  --graph-selection-border: #4790ff;

  --graph-group-selected: #4790ff;
  --graph-group-border: rgb(119, 119, 119);
  --graph-group-label: #fff;

  --graph-grid-column: transparent;

  --graph-context-menu-bg: #252526;
  --graph-context-menu-border: rgba(255, 255, 255, 0.1);
  --graph-context-menu-hover: rgba(255, 255, 255, 0.1);
  --graph-context-menu-text: #fff;

  --graph-tooltip-bg: #252526;
  --graph-tooltip-border: rgba(255, 255, 255, 0.1);
  --graph-tooltip-text: #fff;
        
  --graph-link-color: gray;
  --graph-link-selected: #4790ff;
  --graph-socket: '#fff';

  font-family: var(--graph-font);
  cursor: default !important;
}

.graph-editor-grid, 
.graph-editor-context-menu, 
.graph-editor-tooltip, 
.graph-properties,
foreignObject {
  display: none;
}

@keyframes transition {
  0% {
    stroke-dashoffset: 24;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.transition-select {
  stroke-dasharray: 10, 2;
  animation: transition 1s linear infinite;
  stroke: rgb(0, 192, 255);
  pointer-events: all;
}

[data-node-content],
[data-node-content] * {
  cursor: pointer !important;
}

body {
  padding: 0 !important;
  background: var(--graph-bg) !important;
}

body > div {
  overflow: scroll;
  will-change: transform;
}

body .node {
  user-select: text !important;
}

.warning {
  position: absolute;
  bottom: 0;
  left: 0;
  color: #fff;
}

.tooltip {
  position: relative;
}

.tooltiptext {
  width: 82px;
  transition: opacity 0.5s;
  background-color: var(--graph-node-border);
  color: var(--graph-node-data-text);
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;
  border: 1px solid #fff;
  position: absolute;
  font-size: 14px;
  right: -95px;
  top: -5px;
  z-index: 1;
  user-select: none;
}

.tooltiptext::after {
  content: '';
  position: absolute;
  top: 8px;
  left: 10px;
  margin-left: -23px;
  border-width: 6px;
  border-style: solid;
  border-color: transparent #fff transparent transparent;
}
</style>
    </head>
    <body>
        <svg height="0" id="edge-markers"><defs><marker id="offset-arrow" markerWidth="8" markerHeight="4.48" refX="14" refY="2.24" orient="auto"><polygon points="0 0, 6.4 2.24, 0 4.48" fill="var(--graph-link-color)"></polygon></marker><marker id="arrow" markerWidth="4" markerHeight="3.48" refX="2" refY="1.94" orient="auto"><polygon points="0 0, 4 2, 0 3.48" fill="var(--graph-link-color)"></polygon></marker><marker id="circle-symbol" markerWidth="10" markerHeight="10" refX="1.2" refY="1.2"><circle cx="1.2" cy="1.2" r="1.2" fill="var(--graph-link-color)"></circle></marker></defs></svg><div class="graph-editor css-18f0176"><svg class="css-12q0bj3" style="transform: translate(-165.8px, 1992.2px) scale(0.8);"><g class="graph-editor-grid"></g></svg><div class="css-12q0bj3" style="transform: translate(-165.8px, 1992.2px) scale(0.8);"></div><svg class="css-12q0bj3" style="transform: translate(-165.8px, 1992.2px) scale(0.8);"></svg><div class="css-12q0bj3" style="transform: translate(-165.8px, 1992.2px) scale(0.8);"></div><div class="css-12q0bj3"><div class="sc-kEqYlL bcxYtT graph-editor-context-menu" style="left: 465px; top: 217px;"><div class="sc-iqAbSa gfcIZQ"><span class="sc-crzoUp cMnhPQ">Add node</span><span class="sc-dIsAE dWzdfH">Ctrl + Click</span></div><div class="sc-iqAbSa gfcIZQ"><span class="sc-crzoUp cMnhPQ">Zoom to fit</span><span class="sc-dIsAE dWzdfH">Ctrl + L</span></div><div class="sc-iqAbSa gfcIZQ"><span class="sc-crzoUp cMnhPQ">Export graph</span><span class="sc-dIsAE dWzdfH">Alt + Ctrl + P</span></div><div class="sc-iqAbSa gfcIZQ"><span class="sc-crzoUp cMnhPQ">Autolayout (test version!)</span><span class="sc-dIsAE dWzdfH">Alt + U</span></div><div class="sc-iqAbSa gfcIZQ"><span class="sc-crzoUp cMnhPQ">Open Developer Visual</span><span class="sc-dIsAE dWzdfH">Alt + D</span></div></div></div></div>
        <noscript><p class="warning">For interactive you need enable JavaScript.</p></noscript>
        <script>window.GRAPH = {"offsetX":null,"offsetY":null,"zoom":null}</script>
        <script>(function (f) {
  if (typeof exports === 'object' && typeof module !== 'undefined') {
    module.exports = f();
  } else if (typeof define === 'function' && define.amd) {
    define([], f);
  } else {
    var g;
    if (typeof window !== 'undefined') {
      g = window;
    } else if (typeof global !== 'undefined') {
      g = global;
    } else if (typeof self !== 'undefined') {
      g = self;
    } else {
      g = this;
    }
    g.panzoom = f();
  }
})(function () {
  var define, module, exports;
  return (function () {
    function r(e, n, t) {
      function o(i, f) {
        if (!n[i]) {
          if (!e[i]) {
            var c = 'function' == typeof require && require;
            if (!f && c) return c(i, !0);
            if (u) return u(i, !0);
            var a = new Error("Cannot find module '" + i + "'");
            throw ((a.code = 'MODULE_NOT_FOUND'), a);
          }
          var p = (n[i] = { exports: {} });
          e[i][0].call(
            p.exports,
            function (r) {
              var n = e[i][1][r];
              return o(n || r);
            },
            p,
            p.exports,
            r,
            e,
            n,
            t
          );
        }
        return n[i].exports;
      }
      for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++) o(t[i]);
      return o;
    }
    return r;
  })()(
    {
      1: [
        function (require, module, exports) {
          'use strict';
          var wheel = require('wheel');
          var animate = require('amator');
          var eventify = require('ngraph.events');
          var kinetic = require('./lib/kinetic.js');
          var createTextSelectionInterceptor = require('./lib/createTextSelectionInterceptor.js');
          var domTextSelectionInterceptor = createTextSelectionInterceptor();
          var fakeTextSelectorInterceptor = createTextSelectionInterceptor(true);
          var Transform = require('./lib/transform.js');
          var makeSvgController = require('./lib/svgController.js');
          var makeDomController = require('./lib/domController.js');
          var defaultZoomSpeed = 1;
          var defaultDoubleTapZoomSpeed = 1.75;
          var doubleTapSpeedInMS = 300;
          module.exports = createPanZoom;
          function createPanZoom(domElement, options) {
            options = options || {};
            var panController = options.controller;
            if (!panController) {
              if (makeSvgController.canAttach(domElement)) {
                panController = makeSvgController(domElement, options);
              } else if (makeDomController.canAttach(domElement)) {
                panController = makeDomController(domElement, options);
              }
            }
            if (!panController) {
              throw new Error('Cannot create panzoom for the current type of dom element');
            }
            var owner = panController.getOwner();
            var storedCTMResult = { x: 0, y: 0 };
            var isDirty = false;
            var transform = new Transform();
            if (panController.initTransform) {
              panController.initTransform(transform);
            }
            var filterKey = typeof options.filterKey === 'function' ? options.filterKey : noop;
            var pinchSpeed = typeof options.pinchSpeed === 'number' ? options.pinchSpeed : 1;
            var bounds = options.bounds;
            var maxZoom =
              typeof options.maxZoom === 'number' ? options.maxZoom : Number.POSITIVE_INFINITY;
            var minZoom = typeof options.minZoom === 'number' ? options.minZoom : 0;
            var boundsPadding =
              typeof options.boundsPadding === 'number' ? options.boundsPadding : 0.05;
            var zoomDoubleClickSpeed =
              typeof options.zoomDoubleClickSpeed === 'number'
                ? options.zoomDoubleClickSpeed
                : defaultDoubleTapZoomSpeed;
            var beforeWheel = options.beforeWheel || noop;
            var beforeMouseDown = options.beforeMouseDown || noop;
            var speed =
              typeof options.zoomSpeed === 'number' ? options.zoomSpeed : defaultZoomSpeed;
            var transformOrigin = parseTransformOrigin(options.transformOrigin);
            var textSelection = options.enableTextSelection
              ? fakeTextSelectorInterceptor
              : domTextSelectionInterceptor;
            validateBounds(bounds);
            if (options.autocenter) {
              autocenter();
            }
            var frameAnimation;
            var lastTouchEndTime = 0;
            var lastSingleFingerOffset;
            var touchInProgress = false;
            var panstartFired = false;
            var mouseX;
            var mouseY;
            var pinchZoomLength;
            var smoothScroll;
            if ('smoothScroll' in options && !options.smoothScroll) {
              smoothScroll = rigidScroll();
            } else {
              smoothScroll = kinetic(getPoint, scroll, options.smoothScroll);
            }
            var moveByAnimation;
            var zoomToAnimation;
            var multiTouch;
            var paused = false;
            listenForEvents();
            var api = {
              dispose: dispose,
              moveBy: internalMoveBy,
              moveTo: moveTo,
              centerOn: centerOn,
              zoomTo: publicZoomTo,
              zoomAbs: zoomAbs,
              smoothZoom: smoothZoom,
              smoothZoomAbs: smoothZoomAbs,
              showRectangle: showRectangle,
              pause: pause,
              resume: resume,
              isPaused: isPaused,
              getTransform: getTransformModel,
              getMinZoom: getMinZoom,
              setMinZoom: setMinZoom,
              getMaxZoom: getMaxZoom,
              setMaxZoom: setMaxZoom,
              getTransformOrigin: getTransformOrigin,
              setTransformOrigin: setTransformOrigin,
              getZoomSpeed: getZoomSpeed,
              setZoomSpeed: setZoomSpeed,
            };
            eventify(api);
            return api;
            function pause() {
              releaseEvents();
              paused = true;
            }
            function resume() {
              if (paused) {
                listenForEvents();
                paused = false;
              }
            }
            function isPaused() {
              return paused;
            }
            function showRectangle(rect) {
              var clientRect = owner.getBoundingClientRect();
              var size = transformToScreen(clientRect.width, clientRect.height);
              var rectWidth = rect.right - rect.left;
              var rectHeight = rect.bottom - rect.top;
              if (!Number.isFinite(rectWidth) || !Number.isFinite(rectHeight)) {
                throw new Error('Invalid rectangle');
              }
              var dw = size.x / rectWidth;
              var dh = size.y / rectHeight;
              var scale = Math.min(dw, dh);
              transform.x = -(rect.left + rectWidth / 2) * scale + size.x / 2;
              transform.y = -(rect.top + rectHeight / 2) * scale + size.y / 2;
              transform.scale = scale;
            }
            function transformToScreen(x, y) {
              if (panController.getScreenCTM) {
                var parentCTM = panController.getScreenCTM();
                var parentScaleX = parentCTM.a;
                var parentScaleY = parentCTM.d;
                var parentOffsetX = parentCTM.e;
                var parentOffsetY = parentCTM.f;
                storedCTMResult.x = x * parentScaleX - parentOffsetX;
                storedCTMResult.y = y * parentScaleY - parentOffsetY;
              } else {
                storedCTMResult.x = x;
                storedCTMResult.y = y;
              }
              return storedCTMResult;
            }
            function autocenter() {
              var w;
              var h;
              var left = 0;
              var top = 0;
              var sceneBoundingBox = getBoundingBox();
              if (sceneBoundingBox) {
                left = sceneBoundingBox.left;
                top = sceneBoundingBox.top;
                w = sceneBoundingBox.right - sceneBoundingBox.left;
                h = sceneBoundingBox.bottom - sceneBoundingBox.top;
              } else {
                var ownerRect = owner.getBoundingClientRect();
                w = ownerRect.width;
                h = ownerRect.height;
              }
              var bbox = panController.getBBox();
              if (bbox.width === 0 || bbox.height === 0) {
                return;
              }
              var dh = h / bbox.height;
              var dw = w / bbox.width;
              var scale = Math.min(dw, dh);
              transform.x = -(bbox.left + bbox.width / 2) * scale + w / 2 + left;
              transform.y = -(bbox.top + bbox.height / 2) * scale + h / 2 + top;
              transform.scale = scale;
            }
            function getTransformModel() {
              return transform;
            }
            function getMinZoom() {
              return minZoom;
            }
            function setMinZoom(newMinZoom) {
              minZoom = newMinZoom;
            }
            function getMaxZoom() {
              return maxZoom;
            }
            function setMaxZoom(newMaxZoom) {
              maxZoom = newMaxZoom;
            }
            function getTransformOrigin() {
              return transformOrigin;
            }
            function setTransformOrigin(newTransformOrigin) {
              transformOrigin = parseTransformOrigin(newTransformOrigin);
            }
            function getZoomSpeed() {
              return speed;
            }
            function setZoomSpeed(newSpeed) {
              if (!Number.isFinite(newSpeed)) {
                throw new Error('Zoom speed should be a number');
              }
              speed = newSpeed;
            }
            function getPoint() {
              return { x: transform.x, y: transform.y };
            }
            function moveTo(x, y) {
              transform.x = x;
              transform.y = y;
              keepTransformInsideBounds();
              triggerEvent('pan');
              makeDirty();
            }
            function moveBy(dx, dy) {
              moveTo(transform.x + dx, transform.y + dy);
            }
            function keepTransformInsideBounds() {
              var boundingBox = getBoundingBox();
              if (!boundingBox) return;
              var adjusted = false;
              var clientRect = getClientRect();
              var diff = boundingBox.left - clientRect.right;
              if (diff > 0) {
                transform.x += diff;
                adjusted = true;
              }
              diff = boundingBox.right - clientRect.left;
              if (diff < 0) {
                transform.x += diff;
                adjusted = true;
              }
              diff = boundingBox.top - clientRect.bottom;
              if (diff > 0) {
                transform.y += diff;
                adjusted = true;
              }
              diff = boundingBox.bottom - clientRect.top;
              if (diff < 0) {
                transform.y += diff;
                adjusted = true;
              }
              return adjusted;
            }
            function getBoundingBox() {
              if (!bounds) return;
              if (typeof bounds === 'boolean') {
                var ownerRect = owner.getBoundingClientRect();
                var sceneWidth = ownerRect.width;
                var sceneHeight = ownerRect.height;
                return {
                  left: sceneWidth * boundsPadding,
                  top: sceneHeight * boundsPadding,
                  right: sceneWidth * (1 - boundsPadding),
                  bottom: sceneHeight * (1 - boundsPadding),
                };
              }
              return bounds;
            }
            function getClientRect() {
              var bbox = panController.getBBox();
              var leftTop = client(bbox.left, bbox.top);
              return {
                left: leftTop.x,
                top: leftTop.y,
                right: bbox.width * transform.scale + leftTop.x,
                bottom: bbox.height * transform.scale + leftTop.y,
              };
            }
            function client(x, y) {
              return { x: x * transform.scale + transform.x, y: y * transform.scale + transform.y };
            }
            function makeDirty() {
              isDirty = true;
              frameAnimation = window.requestAnimationFrame(frame);
            }
            function zoomByRatio(clientX, clientY, ratio) {
              if (isNaN(clientX) || isNaN(clientY) || isNaN(ratio)) {
                throw new Error('zoom requires valid numbers');
              }
              var newScale = transform.scale * ratio;
              if (newScale < minZoom) {
                if (transform.scale === minZoom) return;
                ratio = minZoom / transform.scale;
              }
              if (newScale > maxZoom) {
                if (transform.scale === maxZoom) return;
                ratio = maxZoom / transform.scale;
              }
              var size = transformToScreen(clientX, clientY);
              transform.x = size.x - ratio * (size.x - transform.x);
              transform.y = size.y - ratio * (size.y - transform.y);
              if (bounds && boundsPadding === 1 && minZoom === 1) {
                transform.scale *= ratio;
                keepTransformInsideBounds();
              } else {
                var transformAdjusted = keepTransformInsideBounds();
                if (!transformAdjusted) transform.scale *= ratio;
              }
              triggerEvent('zoom');
              makeDirty();
            }
            function zoomAbs(clientX, clientY, zoomLevel) {
              var ratio = zoomLevel / transform.scale;
              zoomByRatio(clientX, clientY, ratio);
            }
            function centerOn(ui) {
              var parent = ui.ownerSVGElement;
              if (!parent) throw new Error('ui element is required to be within the scene');
              var clientRect = ui.getBoundingClientRect();
              var cx = clientRect.left + clientRect.width / 2;
              var cy = clientRect.top + clientRect.height / 2;
              var container = parent.getBoundingClientRect();
              var dx = container.width / 2 - cx;
              var dy = container.height / 2 - cy;
              internalMoveBy(dx, dy, true);
            }
            function internalMoveBy(dx, dy, smooth) {
              if (!smooth) {
                return moveBy(dx, dy);
              }
              if (moveByAnimation) moveByAnimation.cancel();
              var from = { x: 0, y: 0 };
              var to = { x: dx, y: dy };
              var lastX = 0;
              var lastY = 0;
              moveByAnimation = animate(from, to, {
                step: function (v) {
                  moveBy(v.x - lastX, v.y - lastY);
                  lastX = v.x;
                  lastY = v.y;
                },
              });
            }
            function scroll(x, y) {
              cancelZoomAnimation();
              moveTo(x, y);
            }
            function dispose() {
              releaseEvents();
            }
            function listenForEvents() {
              owner.addEventListener('mousedown', onMouseDown, { passive: false });
              owner.addEventListener('dblclick', onDoubleClick, { passive: false });
              owner.addEventListener('touchstart', onTouch, { passive: false });
              owner.addEventListener('keydown', onKeyDown, { passive: false });
              wheel.addWheelListener(owner, onMouseWheel, { passive: false });
              makeDirty();
            }
            function releaseEvents() {
              wheel.removeWheelListener(owner, onMouseWheel);
              owner.removeEventListener('mousedown', onMouseDown);
              owner.removeEventListener('keydown', onKeyDown);
              owner.removeEventListener('dblclick', onDoubleClick);
              owner.removeEventListener('touchstart', onTouch);
              if (frameAnimation) {
                window.cancelAnimationFrame(frameAnimation);
                frameAnimation = 0;
              }
              smoothScroll.cancel();
              releaseDocumentMouse();
              releaseTouches();
              textSelection.release();
              triggerPanEnd();
            }
            function frame() {
              if (isDirty) applyTransform();
            }
            function applyTransform() {
              isDirty = false;
              panController.applyTransform(transform);
              triggerEvent('transform');
              frameAnimation = 0;
            }
            function onKeyDown(e) {
              var x = 0,
                y = 0,
                z = 0;
              if (e.keyCode === 38) {
                y = 1;
              } else if (e.keyCode === 40) {
                y = -1;
              } else if (e.keyCode === 37) {
                x = 1;
              } else if (e.keyCode === 39) {
                x = -1;
              } else if (e.keyCode === 189 || e.keyCode === 109) {
                z = 1;
              } else if (e.keyCode === 187 || e.keyCode === 107) {
                z = -1;
              }
              if (filterKey(e, x, y, z)) {
                return;
              }
              if (x || y) {
                e.preventDefault();
                e.stopPropagation();
                var clientRect = owner.getBoundingClientRect();
                var offset = Math.min(clientRect.width, clientRect.height);
                var moveSpeedRatio = 0.05;
                var dx = offset * moveSpeedRatio * x;
                var dy = offset * moveSpeedRatio * y;
                internalMoveBy(dx, dy);
              }
              if (z) {
                var scaleMultiplier = getScaleMultiplier(z * 100);
                var offset = transformOrigin ? getTransformOriginOffset() : midPoint();
                publicZoomTo(offset.x, offset.y, scaleMultiplier);
              }
            }
            function midPoint() {
              var ownerRect = owner.getBoundingClientRect();
              return { x: ownerRect.width / 2, y: ownerRect.height / 2 };
            }
            function onTouch(e) {
              beforeTouch(e);
              if (e.touches.length === 1) {
                return handleSingleFingerTouch(e, e.touches[0]);
              } else if (e.touches.length === 2) {
                pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);
                multiTouch = true;
                startTouchListenerIfNeeded();
              }
            }
            function beforeTouch(e) {
              if (options.onTouch && !options.onTouch(e)) {
                return;
              }
              e.stopPropagation();
              e.preventDefault();
            }
            function beforeDoubleClick(e) {
              if (options.onDoubleClick && !options.onDoubleClick(e)) {
                return;
              }
              e.preventDefault();
              e.stopPropagation();
            }
            function handleSingleFingerTouch(e) {
              var touch = e.touches[0];
              var offset = getOffsetXY(touch);
              lastSingleFingerOffset = offset;
              var point = transformToScreen(offset.x, offset.y);
              mouseX = point.x;
              mouseY = point.y;
              smoothScroll.cancel();
              startTouchListenerIfNeeded();
            }
            function startTouchListenerIfNeeded() {
              if (touchInProgress) {
                return;
              }
              touchInProgress = true;
              document.addEventListener('touchmove', handleTouchMove);
              document.addEventListener('touchend', handleTouchEnd);
              document.addEventListener('touchcancel', handleTouchEnd);
            }
            function handleTouchMove(e) {
              if (e.touches.length === 1) {
                e.stopPropagation();
                var touch = e.touches[0];
                var offset = getOffsetXY(touch);
                var point = transformToScreen(offset.x, offset.y);
                var dx = point.x - mouseX;
                var dy = point.y - mouseY;
                if (dx !== 0 && dy !== 0) {
                  triggerPanStart();
                }
                mouseX = point.x;
                mouseY = point.y;
                internalMoveBy(dx, dy);
              } else if (e.touches.length === 2) {
                multiTouch = true;
                var t1 = e.touches[0];
                var t2 = e.touches[1];
                var currentPinchLength = getPinchZoomLength(t1, t2);
                var scaleMultiplier = 1 + (currentPinchLength / pinchZoomLength - 1) * pinchSpeed;
                var firstTouchPoint = getOffsetXY(t1);
                var secondTouchPoint = getOffsetXY(t2);
                mouseX = (firstTouchPoint.x + secondTouchPoint.x) / 2;
                mouseY = (firstTouchPoint.y + secondTouchPoint.y) / 2;
                if (transformOrigin) {
                  var offset = getTransformOriginOffset();
                  mouseX = offset.x;
                  mouseY = offset.y;
                }
                publicZoomTo(mouseX, mouseY, scaleMultiplier);
                pinchZoomLength = currentPinchLength;
                e.stopPropagation();
                e.preventDefault();
              }
            }
            function handleTouchEnd(e) {
              if (e.touches.length > 0) {
                var offset = getOffsetXY(e.touches[0]);
                var point = transformToScreen(offset.x, offset.y);
                mouseX = point.x;
                mouseY = point.y;
              } else {
                var now = new Date();
                if (now - lastTouchEndTime < doubleTapSpeedInMS) {
                  if (transformOrigin) {
                    var offset = getTransformOriginOffset();
                    smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);
                  } else {
                    smoothZoom(
                      lastSingleFingerOffset.x,
                      lastSingleFingerOffset.y,
                      zoomDoubleClickSpeed
                    );
                  }
                }
                lastTouchEndTime = now;
                triggerPanEnd();
                releaseTouches();
              }
            }
            function getPinchZoomLength(finger1, finger2) {
              var dx = finger1.clientX - finger2.clientX;
              var dy = finger1.clientY - finger2.clientY;
              return Math.sqrt(dx * dx + dy * dy);
            }
            function onDoubleClick(e) {
              beforeDoubleClick(e);
              var offset = getOffsetXY(e);
              if (transformOrigin) {
                offset = getTransformOriginOffset();
              }
              smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);
            }
            function onMouseDown(e) {
              if (beforeMouseDown(e)) return;
              if (touchInProgress) {
                e.stopPropagation();
                return false;
              }
              var isLeftButton = (e.button === 1 && window.event !== null) || e.button === 0;
              if (!isLeftButton) return;
              smoothScroll.cancel();
              var offset = getOffsetXY(e);
              var point = transformToScreen(offset.x, offset.y);
              mouseX = point.x;
              mouseY = point.y;
              document.addEventListener('mousemove', onMouseMove);
              document.addEventListener('mouseup', onMouseUp);
              textSelection.capture(e.target || e.srcElement);
              return false;
            }
            function onMouseMove(e) {
              if (touchInProgress) return;
              triggerPanStart();
              var offset = getOffsetXY(e);
              var point = transformToScreen(offset.x, offset.y);
              var dx = point.x - mouseX;
              var dy = point.y - mouseY;
              mouseX = point.x;
              mouseY = point.y;
              internalMoveBy(dx, dy);
            }
            function onMouseUp() {
              textSelection.release();
              triggerPanEnd();
              releaseDocumentMouse();
            }
            function releaseDocumentMouse() {
              document.removeEventListener('mousemove', onMouseMove);
              document.removeEventListener('mouseup', onMouseUp);
              panstartFired = false;
            }
            function releaseTouches() {
              document.removeEventListener('touchmove', handleTouchMove);
              document.removeEventListener('touchend', handleTouchEnd);
              document.removeEventListener('touchcancel', handleTouchEnd);
              panstartFired = false;
              multiTouch = false;
              touchInProgress = false;
            }
            function onMouseWheel(e) {
              if (beforeWheel(e)) return;
              smoothScroll.cancel();
              var delta = e.deltaY;
              if (e.deltaMode > 0) delta *= 100;
              var scaleMultiplier = getScaleMultiplier(delta);
              if (scaleMultiplier !== 1) {
                var offset = transformOrigin ? getTransformOriginOffset() : getOffsetXY(e);
                publicZoomTo(offset.x, offset.y, scaleMultiplier);
                e.preventDefault();
              }
            }
            function getOffsetXY(e) {
              var offsetX, offsetY;
              var ownerRect = owner.getBoundingClientRect();
              offsetX = e.clientX - ownerRect.left;
              offsetY = e.clientY - ownerRect.top;
              return { x: offsetX, y: offsetY };
            }
            function smoothZoom(clientX, clientY, scaleMultiplier) {
              var fromValue = transform.scale;
              var from = { scale: fromValue };
              var to = { scale: scaleMultiplier * fromValue };
              smoothScroll.cancel();
              cancelZoomAnimation();
              zoomToAnimation = animate(from, to, {
                step: function (v) {
                  zoomAbs(clientX, clientY, v.scale);
                },
                done: triggerZoomEnd,
              });
            }
            function smoothZoomAbs(clientX, clientY, toScaleValue) {
              var fromValue = transform.scale;
              var from = { scale: fromValue };
              var to = { scale: toScaleValue };
              smoothScroll.cancel();
              cancelZoomAnimation();
              zoomToAnimation = animate(from, to, {
                step: function (v) {
                  zoomAbs(clientX, clientY, v.scale);
                },
              });
            }
            function getTransformOriginOffset() {
              var ownerRect = owner.getBoundingClientRect();
              return {
                x: ownerRect.width * transformOrigin.x,
                y: ownerRect.height * transformOrigin.y,
              };
            }
            function publicZoomTo(clientX, clientY, scaleMultiplier) {
              smoothScroll.cancel();
              cancelZoomAnimation();
              return zoomByRatio(clientX, clientY, scaleMultiplier);
            }
            function cancelZoomAnimation() {
              if (zoomToAnimation) {
                zoomToAnimation.cancel();
                zoomToAnimation = null;
              }
            }
            function getScaleMultiplier(delta) {
              var sign = Math.sign(delta);
              var deltaAdjustedSpeed = Math.min(0.25, Math.abs((speed * delta) / 128));
              return 1 - sign * deltaAdjustedSpeed;
            }
            function triggerPanStart() {
              if (!panstartFired) {
                triggerEvent('panstart');
                panstartFired = true;
                smoothScroll.start();
              }
            }
            function triggerPanEnd() {
              if (panstartFired) {
                if (!multiTouch) smoothScroll.stop();
                triggerEvent('panend');
              }
            }
            function triggerZoomEnd() {
              triggerEvent('zoomend');
            }
            function triggerEvent(name) {
              api.fire(name, api);
            }
          }
          function parseTransformOrigin(options) {
            if (!options) return;
            if (typeof options === 'object') {
              if (!isNumber(options.x) || !isNumber(options.y)) failTransformOrigin(options);
              return options;
            }
            failTransformOrigin();
          }
          function failTransformOrigin(options) {
            console.error(options);
            throw new Error(
              [
                'Cannot parse transform origin.',
                'Some good examples:',
                '  "center center" can be achieved with {x: 0.5, y: 0.5}',
                '  "top center" can be achieved with {x: 0.5, y: 0}',
                '  "bottom right" can be achieved with {x: 1, y: 1}',
              ].join('\n')
            );
          }
          function noop() {}
          function validateBounds(bounds) {
            var boundsType = typeof bounds;
            if (boundsType === 'undefined' || boundsType === 'boolean') return;
            var validBounds =
              isNumber(bounds.left) &&
              isNumber(bounds.top) &&
              isNumber(bounds.bottom) &&
              isNumber(bounds.right);
            if (!validBounds)
              throw new Error(
                'Bounds object is not valid. It can be: ' +
                  'undefined, boolean (true|false) or an object {left, top, right, bottom}'
              );
          }
          function isNumber(x) {
            return Number.isFinite(x);
          }
          function isNaN(value) {
            if (Number.isNaN) {
              return Number.isNaN(value);
            }
            return value !== value;
          }
          function rigidScroll() {
            return { start: noop, stop: noop, cancel: noop };
          }
          function autoRun() {
            if (typeof document === 'undefined') return;
            var scripts = document.getElementsByTagName('script');
            if (!scripts) return;
            var panzoomScript;
            for (var i = 0; i < scripts.length; ++i) {
              var x = scripts[i];
              if (x.src && x.src.match(/\bpanzoom(\.min)?\.js/)) {
                panzoomScript = x;
                break;
              }
            }
            if (!panzoomScript) return;
            var query = panzoomScript.getAttribute('query');
            if (!query) return;
            var globalName = panzoomScript.getAttribute('name') || 'pz';
            var started = Date.now();
            tryAttach();
            function tryAttach() {
              var el = document.querySelector(query);
              if (!el) {
                var now = Date.now();
                var elapsed = now - started;
                if (elapsed < 2e3) {
                  setTimeout(tryAttach, 100);
                  return;
                }
                console.error('Cannot find the panzoom element', globalName);
                return;
              }
              var options = collectOptions(panzoomScript);
              console.log(options);
              window[globalName] = createPanZoom(el, options);
            }
            function collectOptions(script) {
              var attrs = script.attributes;
              var options = {};
              for (var i = 0; i < attrs.length; ++i) {
                var attr = attrs[i];
                var nameValue = getPanzoomAttributeNameValue(attr);
                if (nameValue) {
                  options[nameValue.name] = nameValue.value;
                }
              }
              return options;
            }
            function getPanzoomAttributeNameValue(attr) {
              if (!attr.name) return;
              var isPanZoomAttribute =
                attr.name[0] === 'p' && attr.name[1] === 'z' && attr.name[2] === '-';
              if (!isPanZoomAttribute) return;
              var name = attr.name.substr(3);
              var value = JSON.parse(attr.value);
              return { name: name, value: value };
            }
          }
          autoRun();
        },
        {
          './lib/createTextSelectionInterceptor.js': 2,
          './lib/domController.js': 3,
          './lib/kinetic.js': 4,
          './lib/svgController.js': 5,
          './lib/transform.js': 6,
          amator: 7,
          'ngraph.events': 9,
          wheel: 10,
        },
      ],
      2: [
        function (require, module, exports) {
          module.exports = createTextSelectionInterceptor;
          function createTextSelectionInterceptor(useFake) {
            if (useFake) {
              return { capture: noop, release: noop };
            }
            var dragObject;
            var prevSelectStart;
            var prevDragStart;
            var wasCaptured = false;
            return { capture: capture, release: release };
            function capture(domObject) {
              wasCaptured = true;
              prevSelectStart = window.document.onselectstart;
              prevDragStart = window.document.ondragstart;
              window.document.onselectstart = disabled;
              dragObject = domObject;
              dragObject.ondragstart = disabled;
            }
            function release() {
              if (!wasCaptured) return;
              wasCaptured = false;
              window.document.onselectstart = prevSelectStart;
              if (dragObject) dragObject.ondragstart = prevDragStart;
            }
          }
          function disabled(e) {
            e.stopPropagation();
            return false;
          }
          function noop() {}
        },
        {},
      ],
      3: [
        function (require, module, exports) {
          module.exports = makeDomController;
          module.exports.canAttach = isDomElement;
          function makeDomController(domElement, options) {
            var elementValid = isDomElement(domElement);
            if (!elementValid) {
              throw new Error('panzoom requires DOM element to be attached to the DOM tree');
            }
            var owner = domElement.parentElement;
            domElement.scrollTop = 0;
            if (!options.disableKeyboardInteraction) {
              owner.setAttribute('tabindex', 0);
            }
            var api = { getBBox: getBBox, getOwner: getOwner, applyTransform: applyTransform };
            return api;
            function getOwner() {
              return owner;
            }
            function getBBox() {
              return {
                left: 0,
                top: 0,
                width: domElement.clientWidth,
                height: domElement.clientHeight,
              };
            }
            function applyTransform(transform) {
              domElement.style.transformOrigin = '0 0 0';
              domElement.style.transform =
                'matrix(' +
                transform.scale +
                ', 0, 0, ' +
                transform.scale +
                ', ' +
                transform.x +
                ', ' +
                transform.y +
                ')';
            }
          }
          function isDomElement(element) {
            return element && element.parentElement && element.style;
          }
        },
        {},
      ],
      4: [
        function (require, module, exports) {
          module.exports = kinetic;
          function kinetic(getPoint, scroll, settings) {
            if (typeof settings !== 'object') {
              settings = {};
            }
            var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;
            var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;
            var cancelAnimationFrame =
              typeof settings.cancelAnimationFrame === 'function'
                ? settings.cancelAnimationFrame
                : getCancelAnimationFrame();
            var requestAnimationFrame =
              typeof settings.requestAnimationFrame === 'function'
                ? settings.requestAnimationFrame
                : getRequestAnimationFrame();
            var lastPoint;
            var timestamp;
            var timeConstant = 342;
            var ticker;
            var vx, targetX, ax;
            var vy, targetY, ay;
            var raf;
            return { start: start, stop: stop, cancel: dispose };
            function dispose() {
              cancelAnimationFrame(ticker);
              cancelAnimationFrame(raf);
            }
            function start() {
              lastPoint = getPoint();
              ax = ay = vx = vy = 0;
              timestamp = new Date();
              cancelAnimationFrame(ticker);
              cancelAnimationFrame(raf);
              ticker = requestAnimationFrame(track);
            }
            function track() {
              var now = Date.now();
              var elapsed = now - timestamp;
              timestamp = now;
              var currentPoint = getPoint();
              var dx = currentPoint.x - lastPoint.x;
              var dy = currentPoint.y - lastPoint.y;
              lastPoint = currentPoint;
              var dt = 1e3 / (1 + elapsed);
              vx = 0.8 * dx * dt + 0.2 * vx;
              vy = 0.8 * dy * dt + 0.2 * vy;
              ticker = requestAnimationFrame(track);
            }
            function stop() {
              cancelAnimationFrame(ticker);
              cancelAnimationFrame(raf);
              var currentPoint = getPoint();
              targetX = currentPoint.x;
              targetY = currentPoint.y;
              timestamp = Date.now();
              if (vx < -minVelocity || vx > minVelocity) {
                ax = amplitude * vx;
                targetX += ax;
              }
              if (vy < -minVelocity || vy > minVelocity) {
                ay = amplitude * vy;
                targetY += ay;
              }
              raf = requestAnimationFrame(autoScroll);
            }
            function autoScroll() {
              var elapsed = Date.now() - timestamp;
              var moving = false;
              var dx = 0;
              var dy = 0;
              if (ax) {
                dx = -ax * Math.exp(-elapsed / timeConstant);
                if (dx > 0.5 || dx < -0.5) moving = true;
                else dx = ax = 0;
              }
              if (ay) {
                dy = -ay * Math.exp(-elapsed / timeConstant);
                if (dy > 0.5 || dy < -0.5) moving = true;
                else dy = ay = 0;
              }
              if (moving) {
                scroll(targetX + dx, targetY + dy);
                raf = requestAnimationFrame(autoScroll);
              }
            }
          }
          function getCancelAnimationFrame() {
            if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;
            return clearTimeout;
          }
          function getRequestAnimationFrame() {
            if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;
            return function (handler) {
              return setTimeout(handler, 16);
            };
          }
        },
        {},
      ],
      5: [
        function (require, module, exports) {
          module.exports = makeSvgController;
          module.exports.canAttach = isSVGElement;
          function makeSvgController(svgElement, options) {
            if (!isSVGElement(svgElement)) {
              throw new Error('svg element is required for svg.panzoom to work');
            }
            var owner = svgElement.ownerSVGElement;
            if (!owner) {
              throw new Error(
                'Do not apply panzoom to the root <svg> element. ' +
                  'Use its child instead (e.g. <g></g>). ' +
                  'As of March 2016 only FireFox supported transform on the root element'
              );
            }
            if (!options.disableKeyboardInteraction) {
              owner.setAttribute('tabindex', 0);
            }
            var api = {
              getBBox: getBBox,
              getScreenCTM: getScreenCTM,
              getOwner: getOwner,
              applyTransform: applyTransform,
              initTransform: initTransform,
            };
            return api;
            function getOwner() {
              return owner;
            }
            function getBBox() {
              var bbox = svgElement.getBBox();
              return { left: bbox.x, top: bbox.y, width: bbox.width, height: bbox.height };
            }
            function getScreenCTM() {
              var ctm = owner.getCTM();
              if (!ctm) {
                return owner.getScreenCTM();
              }
              return ctm;
            }
            function initTransform(transform) {
              var screenCTM = svgElement.getCTM();
              transform.x = screenCTM.e;
              transform.y = screenCTM.f;
              transform.scale = screenCTM.a;
              owner.removeAttributeNS(null, 'viewBox');
            }
            function applyTransform(transform) {
              svgElement.setAttribute(
                'transform',
                'matrix(' +
                  transform.scale +
                  ' 0 0 ' +
                  transform.scale +
                  ' ' +
                  transform.x +
                  ' ' +
                  transform.y +
                  ')'
              );
            }
          }
          function isSVGElement(element) {
            return element && element.ownerSVGElement && element.getCTM;
          }
        },
        {},
      ],
      6: [
        function (require, module, exports) {
          module.exports = Transform;
          function Transform() {
            this.x = 0;
            this.y = 0;
            this.scale = 1;
          }
        },
        {},
      ],
      7: [
        function (require, module, exports) {
          var BezierEasing = require('bezier-easing');
          var animations = {
            ease: BezierEasing(0.25, 0.1, 0.25, 1),
            easeIn: BezierEasing(0.42, 0, 1, 1),
            easeOut: BezierEasing(0, 0, 0.58, 1),
            easeInOut: BezierEasing(0.42, 0, 0.58, 1),
            linear: BezierEasing(0, 0, 1, 1),
          };
          module.exports = animate;
          module.exports.makeAggregateRaf = makeAggregateRaf;
          module.exports.sharedScheduler = makeAggregateRaf();
          function animate(source, target, options) {
            var start = Object.create(null);
            var diff = Object.create(null);
            options = options || {};
            var easing =
              typeof options.easing === 'function' ? options.easing : animations[options.easing];
            if (!easing) {
              if (options.easing) {
                console.warn('Unknown easing function in amator: ' + options.easing);
              }
              easing = animations.ease;
            }
            var step = typeof options.step === 'function' ? options.step : noop;
            var done = typeof options.done === 'function' ? options.done : noop;
            var scheduler = getScheduler(options.scheduler);
            var keys = Object.keys(target);
            keys.forEach(function (key) {
              start[key] = source[key];
              diff[key] = target[key] - source[key];
            });
            var durationInMs = typeof options.duration === 'number' ? options.duration : 400;
            var durationInFrames = Math.max(1, durationInMs * 0.06);
            var previousAnimationId;
            var frame = 0;
            previousAnimationId = scheduler.next(loop);
            return { cancel: cancel };
            function cancel() {
              scheduler.cancel(previousAnimationId);
              previousAnimationId = 0;
            }
            function loop() {
              var t = easing(frame / durationInFrames);
              frame += 1;
              setValues(t);
              if (frame <= durationInFrames) {
                previousAnimationId = scheduler.next(loop);
                step(source);
              } else {
                previousAnimationId = 0;
                setTimeout(function () {
                  done(source);
                }, 0);
              }
            }
            function setValues(t) {
              keys.forEach(function (key) {
                source[key] = diff[key] * t + start[key];
              });
            }
          }
          function noop() {}
          function getScheduler(scheduler) {
            if (!scheduler) {
              var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame;
              return canRaf ? rafScheduler() : timeoutScheduler();
            }
            if (typeof scheduler.next !== 'function')
              throw new Error('Scheduler is supposed to have next(cb) function');
            if (typeof scheduler.cancel !== 'function')
              throw new Error('Scheduler is supposed to have cancel(handle) function');
            return scheduler;
          }
          function rafScheduler() {
            return {
              next: window.requestAnimationFrame.bind(window),
              cancel: window.cancelAnimationFrame.bind(window),
            };
          }
          function timeoutScheduler() {
            return {
              next: function (cb) {
                return setTimeout(cb, 1e3 / 60);
              },
              cancel: function (id) {
                return clearTimeout(id);
              },
            };
          }
          function makeAggregateRaf() {
            var frontBuffer = new Set();
            var backBuffer = new Set();
            var frameToken = 0;
            return { next: next, cancel: next, clearAll: clearAll };
            function clearAll() {
              frontBuffer.clear();
              backBuffer.clear();
              cancelAnimationFrame(frameToken);
              frameToken = 0;
            }
            function next(callback) {
              backBuffer.add(callback);
              renderNextFrame();
            }
            function renderNextFrame() {
              if (!frameToken) frameToken = requestAnimationFrame(renderFrame);
            }
            function renderFrame() {
              frameToken = 0;
              var t = backBuffer;
              backBuffer = frontBuffer;
              frontBuffer = t;
              frontBuffer.forEach(function (callback) {
                callback();
              });
              frontBuffer.clear();
            }
            function cancel(callback) {
              backBuffer.delete(callback);
            }
          }
        },
        { 'bezier-easing': 8 },
      ],
      8: [
        function (require, module, exports) {
          var NEWTON_ITERATIONS = 4;
          var NEWTON_MIN_SLOPE = 0.001;
          var SUBDIVISION_PRECISION = 1e-7;
          var SUBDIVISION_MAX_ITERATIONS = 10;
          var kSplineTableSize = 11;
          var kSampleStepSize = 1 / (kSplineTableSize - 1);
          var float32ArraySupported = typeof Float32Array === 'function';
          function A(aA1, aA2) {
            return 1 - 3 * aA2 + 3 * aA1;
          }
          function B(aA1, aA2) {
            return 3 * aA2 - 6 * aA1;
          }
          function C(aA1) {
            return 3 * aA1;
          }
          function calcBezier(aT, aA1, aA2) {
            return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;
          }
          function getSlope(aT, aA1, aA2) {
            return 3 * A(aA1, aA2) * aT * aT + 2 * B(aA1, aA2) * aT + C(aA1);
          }
          function binarySubdivide(aX, aA, aB, mX1, mX2) {
            var currentX,
              currentT,
              i = 0;
            do {
              currentT = aA + (aB - aA) / 2;
              currentX = calcBezier(currentT, mX1, mX2) - aX;
              if (currentX > 0) {
                aB = currentT;
              } else {
                aA = currentT;
              }
            } while (
              Math.abs(currentX) > SUBDIVISION_PRECISION &&
              ++i < SUBDIVISION_MAX_ITERATIONS
            );
            return currentT;
          }
          function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {
            for (var i = 0; i < NEWTON_ITERATIONS; ++i) {
              var currentSlope = getSlope(aGuessT, mX1, mX2);
              if (currentSlope === 0) {
                return aGuessT;
              }
              var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
              aGuessT -= currentX / currentSlope;
            }
            return aGuessT;
          }
          function LinearEasing(x) {
            return x;
          }
          module.exports = function bezier(mX1, mY1, mX2, mY2) {
            if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {
              throw new Error('bezier x values must be in [0, 1] range');
            }
            if (mX1 === mY1 && mX2 === mY2) {
              return LinearEasing;
            }
            var sampleValues = float32ArraySupported
              ? new Float32Array(kSplineTableSize)
              : new Array(kSplineTableSize);
            for (var i = 0; i < kSplineTableSize; ++i) {
              sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
            }
            function getTForX(aX) {
              var intervalStart = 0;
              var currentSample = 1;
              var lastSample = kSplineTableSize - 1;
              for (
                ;
                currentSample !== lastSample && sampleValues[currentSample] <= aX;
                ++currentSample
              ) {
                intervalStart += kSampleStepSize;
              }
              --currentSample;
              var dist =
                (aX - sampleValues[currentSample]) /
                (sampleValues[currentSample + 1] - sampleValues[currentSample]);
              var guessForT = intervalStart + dist * kSampleStepSize;
              var initialSlope = getSlope(guessForT, mX1, mX2);
              if (initialSlope >= NEWTON_MIN_SLOPE) {
                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
              } else if (initialSlope === 0) {
                return guessForT;
              } else {
                return binarySubdivide(
                  aX,
                  intervalStart,
                  intervalStart + kSampleStepSize,
                  mX1,
                  mX2
                );
              }
            }
            return function BezierEasing(x) {
              if (x === 0) {
                return 0;
              }
              if (x === 1) {
                return 1;
              }
              return calcBezier(getTForX(x), mY1, mY2);
            };
          };
        },
        {},
      ],
      9: [
        function (require, module, exports) {
          module.exports = function eventify(subject) {
            validateSubject(subject);
            var eventsStorage = createEventsStorage(subject);
            subject.on = eventsStorage.on;
            subject.off = eventsStorage.off;
            subject.fire = eventsStorage.fire;
            return subject;
          };
          function createEventsStorage(subject) {
            var registeredEvents = Object.create(null);
            return {
              on: function (eventName, callback, ctx) {
                if (typeof callback !== 'function') {
                  throw new Error('callback is expected to be a function');
                }
                var handlers = registeredEvents[eventName];
                if (!handlers) {
                  handlers = registeredEvents[eventName] = [];
                }
                handlers.push({ callback: callback, ctx: ctx });
                return subject;
              },
              off: function (eventName, callback) {
                var wantToRemoveAll = typeof eventName === 'undefined';
                if (wantToRemoveAll) {
                  registeredEvents = Object.create(null);
                  return subject;
                }
                if (registeredEvents[eventName]) {
                  var deleteAllCallbacksForEvent = typeof callback !== 'function';
                  if (deleteAllCallbacksForEvent) {
                    delete registeredEvents[eventName];
                  } else {
                    var callbacks = registeredEvents[eventName];
                    for (var i = 0; i < callbacks.length; ++i) {
                      if (callbacks[i].callback === callback) {
                        callbacks.splice(i, 1);
                      }
                    }
                  }
                }
                return subject;
              },
              fire: function (eventName) {
                var callbacks = registeredEvents[eventName];
                if (!callbacks) {
                  return subject;
                }
                var fireArguments;
                if (arguments.length > 1) {
                  fireArguments = Array.prototype.splice.call(arguments, 1);
                }
                for (var i = 0; i < callbacks.length; ++i) {
                  var callbackInfo = callbacks[i];
                  callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);
                }
                return subject;
              },
            };
          }
          function validateSubject(subject) {
            if (!subject) {
              throw new Error('Eventify cannot use falsy object as events subject');
            }
            var reservedWords = ['on', 'fire', 'off'];
            for (var i = 0; i < reservedWords.length; ++i) {
              if (subject.hasOwnProperty(reservedWords[i])) {
                throw new Error(
                  "Subject cannot be eventified, since it already has property '" +
                    reservedWords[i] +
                    "'"
                );
              }
            }
          }
        },
        {},
      ],
      10: [
        function (require, module, exports) {
          module.exports = addWheelListener;
          module.exports.addWheelListener = addWheelListener;
          module.exports.removeWheelListener = removeWheelListener;
          function addWheelListener(element, listener, useCapture) {
            element.addEventListener('wheel', listener, useCapture);
          }
          function removeWheelListener(element, listener, useCapture) {
            element.removeEventListener('wheel', listener, useCapture);
          }
        },
        {},
      ],
    },
    {},
    [1]
  )(1);
});
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
!(function (t, e) {
  'object' == typeof exports && 'object' == typeof module
    ? (module.exports = e())
    : 'function' == typeof define && define.amd
    ? define([], e)
    : 'object' == typeof exports
    ? (exports.ClipboardJS = e())
    : (t.ClipboardJS = e());
})(this, function () {
  return (
    (o = {}),
    (r.m = n = [
      function (t, e) {
        t.exports = function (t) {
          var e;
          if ('SELECT' === t.nodeName) t.focus(), (e = t.value);
          else if ('INPUT' === t.nodeName || 'TEXTAREA' === t.nodeName) {
            var n = t.hasAttribute('readonly');
            n || t.setAttribute('readonly', ''),
              t.select(),
              t.setSelectionRange(0, t.value.length),
              n || t.removeAttribute('readonly'),
              (e = t.value);
          } else {
            t.hasAttribute('contenteditable') && t.focus();
            var o = window.getSelection(),
              r = document.createRange();
            r.selectNodeContents(t), o.removeAllRanges(), o.addRange(r), (e = o.toString());
          }
          return e;
        };
      },
      function (t, e) {
        function n() {}
        (n.prototype = {
          on: function (t, e, n) {
            var o = this.e || (this.e = {});
            return (o[t] || (o[t] = [])).push({ fn: e, ctx: n }), this;
          },
          once: function (t, e, n) {
            var o = this;
            function r() {
              o.off(t, r), e.apply(n, arguments);
            }
            return (r._ = e), this.on(t, r, n);
          },
          emit: function (t) {
            for (
              var e = [].slice.call(arguments, 1),
                n = ((this.e || (this.e = {}))[t] || []).slice(),
                o = 0,
                r = n.length;
              o < r;
              o++
            )
              n[o].fn.apply(n[o].ctx, e);
            return this;
          },
          off: function (t, e) {
            var n = this.e || (this.e = {}),
              o = n[t],
              r = [];
            if (o && e)
              for (var i = 0, a = o.length; i < a; i++)
                o[i].fn !== e && o[i].fn._ !== e && r.push(o[i]);
            return r.length ? (n[t] = r) : delete n[t], this;
          },
        }),
          (t.exports = n),
          (t.exports.TinyEmitter = n);
      },
      function (t, e, n) {
        var d = n(3),
          h = n(4);
        t.exports = function (t, e, n) {
          if (!t && !e && !n) throw new Error('Missing required arguments');
          if (!d.string(e)) throw new TypeError('Second argument must be a String');
          if (!d.fn(n)) throw new TypeError('Third argument must be a Function');
          if (d.node(t))
            return (
              (s = e),
              (f = n),
              (u = t).addEventListener(s, f),
              {
                destroy: function () {
                  u.removeEventListener(s, f);
                },
              }
            );
          if (d.nodeList(t))
            return (
              (a = t),
              (c = e),
              (l = n),
              Array.prototype.forEach.call(a, function (t) {
                t.addEventListener(c, l);
              }),
              {
                destroy: function () {
                  Array.prototype.forEach.call(a, function (t) {
                    t.removeEventListener(c, l);
                  });
                },
              }
            );
          if (d.string(t)) return (o = t), (r = e), (i = n), h(document.body, o, r, i);
          throw new TypeError(
            'First argument must be a String, HTMLElement, HTMLCollection, or NodeList'
          );
          var o, r, i, a, c, l, u, s, f;
        };
      },
      function (t, n) {
        (n.node = function (t) {
          return void 0 !== t && t instanceof HTMLElement && 1 === t.nodeType;
        }),
          (n.nodeList = function (t) {
            var e = Object.prototype.toString.call(t);
            return (
              void 0 !== t &&
              ('[object NodeList]' === e || '[object HTMLCollection]' === e) &&
              'length' in t &&
              (0 === t.length || n.node(t[0]))
            );
          }),
          (n.string = function (t) {
            return 'string' == typeof t || t instanceof String;
          }),
          (n.fn = function (t) {
            return '[object Function]' === Object.prototype.toString.call(t);
          });
      },
      function (t, e, n) {
        var a = n(5);
        function i(t, e, n, o, r) {
          var i = function (e, n, t, o) {
            return function (t) {
              (t.delegateTarget = a(t.target, n)), t.delegateTarget && o.call(e, t);
            };
          }.apply(this, arguments);
          return (
            t.addEventListener(n, i, r),
            {
              destroy: function () {
                t.removeEventListener(n, i, r);
              },
            }
          );
        }
        t.exports = function (t, e, n, o, r) {
          return 'function' == typeof t.addEventListener
            ? i.apply(null, arguments)
            : 'function' == typeof n
            ? i.bind(null, document).apply(null, arguments)
            : ('string' == typeof t && (t = document.querySelectorAll(t)),
              Array.prototype.map.call(t, function (t) {
                return i(t, e, n, o, r);
              }));
        };
      },
      function (t, e) {
        if ('undefined' != typeof Element && !Element.prototype.matches) {
          var n = Element.prototype;
          n.matches =
            n.matchesSelector ||
            n.mozMatchesSelector ||
            n.msMatchesSelector ||
            n.oMatchesSelector ||
            n.webkitMatchesSelector;
        }
        t.exports = function (t, e) {
          for (; t && 9 !== t.nodeType; ) {
            if ('function' == typeof t.matches && t.matches(e)) return t;
            t = t.parentNode;
          }
        };
      },
      function (t, e, n) {
        'use strict';
        n.r(e);
        var o = n(0),
          r = n.n(o),
          i =
            'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
              ? function (t) {
                  return typeof t;
                }
              : function (t) {
                  return t &&
                    'function' == typeof Symbol &&
                    t.constructor === Symbol &&
                    t !== Symbol.prototype
                    ? 'symbol'
                    : typeof t;
                };
        function a(t, e) {
          for (var n = 0; n < e.length; n++) {
            var o = e[n];
            (o.enumerable = o.enumerable || !1),
              (o.configurable = !0),
              'value' in o && (o.writable = !0),
              Object.defineProperty(t, o.key, o);
          }
        }
        function c(t) {
          !(function (t, e) {
            if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
          })(this, c),
            this.resolveOptions(t),
            this.initSelection();
        }
        var l =
            ((function (t, e, n) {
              return e && a(t.prototype, e), n && a(t, n), t;
            })(c, [
              {
                key: 'resolveOptions',
                value: function (t) {
                  var e = 0 < arguments.length && void 0 !== t ? t : {};
                  (this.action = e.action),
                    (this.container = e.container),
                    (this.emitter = e.emitter),
                    (this.target = e.target),
                    (this.text = e.text),
                    (this.trigger = e.trigger),
                    (this.selectedText = '');
                },
              },
              {
                key: 'initSelection',
                value: function () {
                  this.text ? this.selectFake() : this.target && this.selectTarget();
                },
              },
              {
                key: 'selectFake',
                value: function () {
                  var t = this,
                    e = 'rtl' == document.documentElement.getAttribute('dir');
                  this.removeFake(),
                    (this.fakeHandlerCallback = function () {
                      return t.removeFake();
                    }),
                    (this.fakeHandler =
                      this.container.addEventListener('click', this.fakeHandlerCallback) || !0),
                    (this.fakeElem = document.createElement('textarea')),
                    (this.fakeElem.style.fontSize = '12pt'),
                    (this.fakeElem.style.border = '0'),
                    (this.fakeElem.style.padding = '0'),
                    (this.fakeElem.style.margin = '0'),
                    (this.fakeElem.style.position = 'absolute'),
                    (this.fakeElem.style[e ? 'right' : 'left'] = '-9999px');
                  var n = window.pageYOffset || document.documentElement.scrollTop;
                  (this.fakeElem.style.top = n + 'px'),
                    this.fakeElem.setAttribute('readonly', ''),
                    (this.fakeElem.value = this.text),
                    this.container.appendChild(this.fakeElem),
                    (this.selectedText = r()(this.fakeElem)),
                    this.copyText();
                },
              },
              {
                key: 'removeFake',
                value: function () {
                  this.fakeHandler &&
                    (this.container.removeEventListener('click', this.fakeHandlerCallback),
                    (this.fakeHandler = null),
                    (this.fakeHandlerCallback = null)),
                    this.fakeElem &&
                      (this.container.removeChild(this.fakeElem), (this.fakeElem = null));
                },
              },
              {
                key: 'selectTarget',
                value: function () {
                  (this.selectedText = r()(this.target)), this.copyText();
                },
              },
              {
                key: 'copyText',
                value: function () {
                  var e = void 0;
                  try {
                    e = document.execCommand(this.action);
                  } catch (t) {
                    e = !1;
                  }
                  this.handleResult(e);
                },
              },
              {
                key: 'handleResult',
                value: function (t) {
                  this.emitter.emit(t ? 'success' : 'error', {
                    action: this.action,
                    text: this.selectedText,
                    trigger: this.trigger,
                    clearSelection: this.clearSelection.bind(this),
                  });
                },
              },
              {
                key: 'clearSelection',
                value: function () {
                  this.trigger && this.trigger.focus(),
                    document.activeElement.blur(),
                    window.getSelection().removeAllRanges();
                },
              },
              {
                key: 'destroy',
                value: function () {
                  this.removeFake();
                },
              },
              {
                key: 'action',
                set: function (t) {
                  var e = 0 < arguments.length && void 0 !== t ? t : 'copy';
                  if (((this._action = e), 'copy' !== this._action && 'cut' !== this._action))
                    throw new Error('Invalid "action" value, use either "copy" or "cut"');
                },
                get: function () {
                  return this._action;
                },
              },
              {
                key: 'target',
                set: function (t) {
                  if (void 0 !== t) {
                    if (!t || 'object' !== (void 0 === t ? 'undefined' : i(t)) || 1 !== t.nodeType)
                      throw new Error('Invalid "target" value, use a valid Element');
                    if ('copy' === this.action && t.hasAttribute('disabled'))
                      throw new Error(
                        'Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute'
                      );
                    if (
                      'cut' === this.action &&
                      (t.hasAttribute('readonly') || t.hasAttribute('disabled'))
                    )
                      throw new Error(
                        'Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes'
                      );
                    this._target = t;
                  }
                },
                get: function () {
                  return this._target;
                },
              },
            ]),
            c),
          u = n(1),
          s = n.n(u),
          f = n(2),
          d = n.n(f),
          h =
            'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
              ? function (t) {
                  return typeof t;
                }
              : function (t) {
                  return t &&
                    'function' == typeof Symbol &&
                    t.constructor === Symbol &&
                    t !== Symbol.prototype
                    ? 'symbol'
                    : typeof t;
                },
          p = function (t, e, n) {
            return e && y(t.prototype, e), n && y(t, n), t;
          };
        function y(t, e) {
          for (var n = 0; n < e.length; n++) {
            var o = e[n];
            (o.enumerable = o.enumerable || !1),
              (o.configurable = !0),
              'value' in o && (o.writable = !0),
              Object.defineProperty(t, o.key, o);
          }
        }
        var m =
          ((function (t, e) {
            if ('function' != typeof e && null !== e)
              throw new TypeError(
                'Super expression must either be null or a function, not ' + typeof e
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 },
            })),
              e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : (t.__proto__ = e));
          })(v, s.a),
          p(
            v,
            [
              {
                key: 'resolveOptions',
                value: function (t) {
                  var e = 0 < arguments.length && void 0 !== t ? t : {};
                  (this.action = 'function' == typeof e.action ? e.action : this.defaultAction),
                    (this.target = 'function' == typeof e.target ? e.target : this.defaultTarget),
                    (this.text = 'function' == typeof e.text ? e.text : this.defaultText),
                    (this.container = 'object' === h(e.container) ? e.container : document.body);
                },
              },
              {
                key: 'listenClick',
                value: function (t) {
                  var e = this;
                  this.listener = d()(t, 'click', function (t) {
                    return e.onClick(t);
                  });
                },
              },
              {
                key: 'onClick',
                value: function (t) {
                  var e = t.delegateTarget || t.currentTarget;
                  this.clipboardAction && (this.clipboardAction = null),
                    (this.clipboardAction = new l({
                      action: this.action(e),
                      target: this.target(e),
                      text: this.text(e),
                      container: this.container,
                      trigger: e,
                      emitter: this,
                    }));
                },
              },
              {
                key: 'defaultAction',
                value: function (t) {
                  return b('action', t);
                },
              },
              {
                key: 'defaultTarget',
                value: function (t) {
                  var e = b('target', t);
                  if (e) return document.querySelector(e);
                },
              },
              {
                key: 'defaultText',
                value: function (t) {
                  return b('text', t);
                },
              },
              {
                key: 'destroy',
                value: function () {
                  this.listener.destroy(),
                    this.clipboardAction &&
                      (this.clipboardAction.destroy(), (this.clipboardAction = null));
                },
              },
            ],
            [
              {
                key: 'isSupported',
                value: function (t) {
                  var e = 0 < arguments.length && void 0 !== t ? t : ['copy', 'cut'],
                    n = 'string' == typeof e ? [e] : e,
                    o = !!document.queryCommandSupported;
                  return (
                    n.forEach(function (t) {
                      o = o && !!document.queryCommandSupported(t);
                    }),
                    o
                  );
                },
              },
            ]
          ),
          v);
        function v(t, e) {
          !(function (t, e) {
            if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
          })(this, v);
          var n = (function (t, e) {
            if (!t)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || ('object' != typeof e && 'function' != typeof e) ? t : e;
          })(this, (v.__proto__ || Object.getPrototypeOf(v)).call(this));
          return n.resolveOptions(e), n.listenClick(t), n;
        }
        function b(t, e) {
          var n = 'data-clipboard-' + t;
          if (e.hasAttribute(n)) return e.getAttribute(n);
        }
        e.default = m;
      },
    ]),
    (r.c = o),
    (r.d = function (t, e, n) {
      r.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n });
    }),
    (r.r = function (t) {
      'undefined' != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }),
        Object.defineProperty(t, '__esModule', { value: !0 });
    }),
    (r.t = function (e, t) {
      if ((1 & t && (e = r(e)), 8 & t)) return e;
      if (4 & t && 'object' == typeof e && e && e.__esModule) return e;
      var n = Object.create(null);
      if (
        (r.r(n),
        Object.defineProperty(n, 'default', { enumerable: !0, value: e }),
        2 & t && 'string' != typeof e)
      )
        for (var o in e)
          r.d(
            n,
            o,
            function (t) {
              return e[t];
            }.bind(null, o)
          );
      return n;
    }),
    (r.n = function (t) {
      var e =
        t && t.__esModule
          ? function () {
              return t.default;
            }
          : function () {
              return t;
            };
      return r.d(e, 'a', e), e;
    }),
    (r.o = function (t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }),
    (r.p = ''),
    r((r.s = 6)).default
  );
  function r(t) {
    if (o[t]) return o[t].exports;
    var e = (o[t] = { i: t, l: !1, exports: {} });
    return n[t].call(e.exports, e, e.exports, r), (e.l = !0), e.exports;
  }
  var n, o;
});
(function () {
  // Event path polyfill
  function eventPath(evt) {
    var path = (evt.composedPath && evt.composedPath()) || evt.path,
      target = evt.target;

    if (path != null) {
      // Safari doesn't include Window, but it should.
      return path.indexOf(window) < 0 ? path.concat(window) : path;
    }

    if (target === window) {
      return [window];
    }

    function getParents(node, memo) {
      memo = memo || [];
      var parentNode = node.parentNode;
      if (!parentNode) {
        return memo;
      } else {
        return getParents(parentNode, memo.concat(parentNode));
      }
    }
    return [target].concat(getParents(target), window);
  }

  function showTooltip(el, text, time) {
    if (el.classList.contains('tooltip')) {
      return;
    }

    var tooltip = document.createElement('span');
    tooltip.className = 'tooltiptext';
    tooltip.innerText = text;
    tooltip.style.opacity = 1;

    el.classList.add('tooltip');
    el.appendChild(tooltip);

    setTimeout(function () {
      tooltip.style.opacity = 0;
      setTimeout(function () {
        el.removeChild(tooltip);
        el.classList.remove('tooltip');
      }, 500);
    }, time);
  }

  function removeSelectionsTransitions() {
    var allpaths = document.querySelectorAll('g[data-linkid] path');
    [].slice.call(allpaths).forEach(function (el) {
      el.classList.remove('transition-select');
    });
  }

  function selectTransition(node, is) {
    var transitions = node.querySelectorAll('[data-transition-id]');
    var ids = [].slice.call(transitions).map(function (el) {
      return el.dataset.transitionId;
    });

    ids.forEach(function (id) {
      var paths = document.querySelectorAll('g[data-linkid="' + id + '"] path');
      [].slice.call(paths).forEach(function (el) {
        if (is) el.classList.add('transition-select');
        else el.classList.remove('transition-select');
      });
    });
  }

  // Hightlight node transition on hover
  var nodes = [].slice.call(document.querySelectorAll('.node'));
  nodes.forEach(function (node) {
    node.addEventListener('mouseenter', function () {
      selectTransition(node, true);
    });
    node.addEventListener('mouseleave', function () {
      selectTransition(node, false);
    });
  });

  // Autocopy node content
  var clipboard = new ClipboardJS('[data-node-content]', {
    text: function (trigger) {
      return trigger.innerText;
    },
  });
  clipboard.on('success', function (e) {
    e.clearSelection();
    showTooltip(e.trigger, 'Copied!', 500);
  });

  // Clear native graph transformations
  var editor = document.querySelector('body > div');
  editor.style.overflow = 'visible';
  [].slice.call(editor.children).forEach(function (el) {
    el.style.transform = '';
  });

  // Create interctive graph
  var instance = panzoom(editor, {
    smoothScroll: false,
    zoomDoubleClickSpeed: 1,
    zoomSpeed: 0.2,
    maxZoom: 3,
    beforeMouseDown: function (e) {
      return eventPath(e).some(function (el) {
        return el.classList && el.classList.contains('node');
      });
    },
  });
  instance.zoomTo(window.GRAPH.offsetX + 100, window.GRAPH.offsetY + 100, window.GRAPH.zoom);
  instance.on('transform', function () {
    removeSelectionsTransitions();
  });
})();
</script>
    </body>
</html>